<div class="main">
    <div class="content">
      <p class ="text lesson-title">
        Chapter 4: Python Python Dict and File - Dict Hash Table
      </p>
      <div class="text learn">
        <p class="lessonContent">
            Python's efficient key/value hash table structure is called a "dict". The contents of a dict can be written as a series of key:value pairs within braces &#123;&#125; , e.g. dict = &#123;key1:value1, key2:value2, ...&#125;. The "empty dict" is just an empty pair of curly braces &#123; &#125;.
            Looking up or setting a value in a dict uses square brackets, e.g. dict &#91;'foo'&#93; looks up the value under the key 'foo'. Strings, numbers, and tuples work as keys, and any type can be a value. Other types may or may not work correctly as keys (strings and tuples work cleanly since they are immutable). Looking up a value which is not in the dict throws a KeyError -- use "in" to check if the key is in the dict, or use dict.get(key) which returns the value or None if the key is not present (or get(key, not-found) allows you to specify what value to return in the not-found case).
        </p>
        <p class="exampleCode">
            <span class="comment">## Can build up a dict by starting with the the empty dict &#123;&#125;</span><br>
            <span class="comment">## and storing key/value pairs into the dict like this:</span><br>
            <span class="comment">## dict[key] = value-for-that-key</span><br> 
            dict = &#123;&#125;<br>
            dict &#91;<span class ="str">'a'</span>&#93; =  <span class ="str">'alpha'</span><br>
            dict &#91;<span class ="str">'g'</span>&#93; = <span class ="str">'gamma'</span><br>
            dict &#91;<span class ="str">'o'</span>&#93; = <span class ="str">'omega'</span><br>
            <br>
            <span class="kwd">print</span> dict  <span class="comment">## &#123; 'a': 'alpha', 'o': 'omega', 'g': 'gamma' &#125;</span><br>
            <br>
            <span class="kwd">print</span> dict &#91; 'a'&#93;    <span class="comment">## Simple lookup, returns 'alpha'</span><br>
            dict &#91;'a'&#93;  = 6      <span class="comment">## Put new key/value into dict</span><br>
            'a' in dict         <span class="comment">## True</span><br>
            <span class="comment">## print dict &#91;'z'&#93;                  ## Throws KeyError</span><br>
            <span class="kwd">if</span> 'z' <span class="kwd">in</span> dict: <span class="kwd">print</span> dict &#91;<span class="str">'z'</span>&#93;    <span class="comment">## Avoid KeyError</span><br>
            <span class="kwd">print</span> dict.get(<span class="str">'z'</span>)  <span class="comment">## None (instead of KeyError)</span>
        </p>
        <p class="lessonContent">
            A for loop on a dictionary iterates over its keys by default. The keys will appear in an arbitrary order. The methods dict.keys() and dict.values() return lists of the keys or values explicitly. There's also an items() which returns a list of (key, value) tuples, which is the most efficient way to examine all the key value data in the dictionary. All of these lists can be passed to the sorted() function.
        </p>
        <p class="exampleCode">
            <span class="comment">## By default, iterating over a dict iterates over its keys.</span><br>
            <span class="comment">## Note that the keys are in a random order.</span><br>
            <span class="kwd">for</span> key <span class="kwd">in</span> dict: <span class="kwd">print</span> key<br>
            <span class="comment">## prints a g o</span><br>
            <br>
            <span class="comment">## Exactly the same as above</span><br>
            <span class="kwd">for</span> key <span class="kwd">in</span> dict.keys(): <span class="kwd">print</span> key<br>
            <br>
            <span class="comment">## Get the .keys() list:</span><br>
            <span class="kwd">print</span> dict.keys()  <span class="comment">## &#91; 'a', 'o', 'g' &#93;</span><br>
            <br>
            <span class="comment">## Likewise, there's a .values() list of values</span><br>
            <span class="kwd">print</span> dict.values()  <span class="comment">## &#91; 'alpha', 'omega', 'gamma' &#93;</span><br>
            <br>
            <span class="comment">## Common case -- loop over the keys in sorted order,</span><br>
            <span class="comment">## accessing each key/value</span><br>
            <span class="kwd">for</span> key <span class="kwd">in</span> sorted(dict.keys()):<br>
            &nbsp;&nbsp; <span class="kwd">print</span> key, dict&#91;key&#93;<br>
            <br>
            <span class="comment">## .items() is the dict expressed as (key, value) tuples</span><br>
            <span class="kwd">print</span> dict.items()  <span class="comment">##  &#91;('a', 'alpha'), ('o', 'omega'), ('g', 'gamma')&#93;</span><br>
            <br>
            <span class="comment">## This loop syntax accesses the whole dict by looping</span><br>
            <span class="comment">## over the .items() tuple list, accessing one (key, value)</span><br>
            <span class="comment">## pair on each iteration.</span><br>
            <span class="kwd">for</span> k, v in dict.items(): <span class="kwd">print</span> k, <span class="str">'&gt;'</span>, v<br>
            <span class="comment">## a &gt; alpha    o &gt; omega     g &gt; gamma</span><br>
        </p>   
        <p class="lessonContent">
            There are "iter" variants of these methods called iterkeys(), itervalues() and iteritems() which avoid the cost of constructing the whole list -- a performance win if the data is huge. However, I generally prefer the plain keys() and values() methods with their sensible names. In Python 3000 revision, the need for the iterkeys() variants is going away.
            Strategy note: from a performance point of view, the dictionary is one of your greatest tools, and you should use it where you can as an easy way to organize data. For example, you might read a log file where each line begins with an IP address, and store the data into a dict using the IP address as the key, and the list of lines where it appears as the value. Once you've read in the whole file, you can look up any IP address and instantly see its list of lines. The dictionary takes in scattered data and makes it into something coherent.        
        </p>
      </div>
    </div>
  </div>