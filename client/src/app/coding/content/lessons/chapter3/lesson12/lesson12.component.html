<div class="main">
  <div class="content">
    <p class ="text lesson-title">
      Chapter 3: Python Sorting - Custom Sorting With key
    </p>
    <div class="text learn">
      <p class="lessonContent">
        For more complex custom sorting, sorted() takes an optional "key=" specifying a "key" function that transforms each element before comparison. The key function takes in 1 value and returns 1 value, and the returned "proxy" value is used for the comparisons within the sort.
        For example with a list of strings, specifying key=len (the built in len() function) sorts the strings by length, from shortest to longest. The sort calls len() for each string to get the list of proxy length values, and then sorts with those proxy values.
      </p>
      <p class="exampleCode">
        strs = [<span class="str">'ccc'</span>, <span class="str">'aaaa'</span>, <span class="str">'d'</span>, <span class="str">'bb'</span>] <br>
        <span class="kwd">print</span> sorted(strs, key=len)  <span class="comment">## ['d', 'bb', 'ccc', 'aaaa']</span>
      </p>
      <p class="lessonContent">
        As another example, specifying "str.lower" as the key function is a way to force the sorting to treat uppercase and lowercase the same:     
      </p>
      <p class="exampleCode">
        <span class="comment">## "key" argument specifying str.lower function to use for sorting</span><br>
        <span class="kwd">print</span> sorted(strs, key=str.lower)  ## ['aa', 'BB', 'CC', 'zz']
      </p>   
      <p class="lessonContent">
      You can also pass in your own MyFn as the key function, like this:
      </p>
      <p class="exampleCode">
        <span class="comment">## Say we have a list of strings we want to sort by the last letter of the string.</span><br>
        strs = ['xc', 'zb', 'yd' ,'wa']<br>
        <br>
        <span class="comment">## Write a little function that takes a string, and returns its last letter.</span><br>
        <span class="comment">## This will be the key function (takes in 1 value, returns 1 value).</span><br>
        <span class="kwd">def</span> <span class="typ">MyFn</span>(s):<br>
        &nbsp;&nbsp; <span class="kwd">return</span> s[<span class="lit">-1</span>]<br>
          <br>
        <span class="comment">## Now pass key=MyFn to sorted() to sort by the last letter:</span><br>
        <span class="kwd">print</span> sorted(strs, key=<span class="typ">MyFn</span>)  <span class="comment">## ['wa', 'zb', 'xc', 'yd']</span>
      </p>   
      <p class="lessonContent">
        To use key= custom sorting, remember that you provide a function that takes one value and returns the proxy value to guide the sorting. There is also an optional argument "cmp=cmpFn" to sorted() that specifies a traditional two-argument comparison function that takes two values from the list and returns negative/0/positive to indicate their ordering. The built in comparison function for strings, ints, ... is cmp(a, b), so often you want to call cmp() in your custom comparator. The newer one argument key= sorting is generally preferable.
      </p>
    </div>
  </div>
</div>